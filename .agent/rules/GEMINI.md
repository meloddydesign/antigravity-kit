---
trigger: always_on
---

# GEMINI.md - Antigravity Kit (–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)

> –ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è AI –≤ —ç—Ç–æ–º workspace. –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–æ –ø–æ–¥ —Å—Ç–µ–∫ –î–∞–Ω–∏–∏–ª–∞.

---

## üéØ –ü–ï–†–°–û–ù–ê–õ–¨–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò (–ü–†–ò–û–†–ò–¢–ï–¢ P0)

**–í–ª–∞–¥–µ–ª–µ—Ü:** –î–∞–Ω–∏–∏–ª (Junior Frontend Engineer)
**–Ø–∑—ã–∫ –æ–±—â–µ–Ω–∏—è:** –†—É—Å—Å–∫–∏–π
**–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥–µ:** –ù–∞ —Ä—É—Å—Å–∫–æ–º!

**–°—Ç–µ–∫:**
- React + TypeScript
- Next.js (–ø–æ –∑–∞–ø—Ä–æ—Å—É)
- Tailwind CSS + shadcn/ui
- Zustand (Redux –µ—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç —Ç—Ä–µ–±—É–µ—Ç)
- Firebase
- Framer Motion / GSAP

**–î–∏–∑–∞–π–Ω:**
- Glassmorphism + Neumorphism + Minimal
- –¢—ë–º–Ω–∞—è —Ç–µ–º–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- –í–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ: Vercel, Linear, Raycast
- üö´ Purple Ban ‚Äî —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π –∑–∞–ø—Ä–µ—â—ë–Ω!
- üö´ –®–∞–±–ª–æ–Ω–Ω—ã–µ –¥–∏–∑–∞–π–Ω—ã –∑–∞–ø—Ä–µ—â–µ–Ω—ã

---

## CRITICAL: AGENT & SKILL PROTOCOL

> **MANDATORY:** Read agent file + skills BEFORE coding.

- Agent activated ‚Üí Check `skills:` ‚Üí Read SKILL.md ‚Üí Apply
- Priority: P0 (GEMINI.md) > P1 (Agent) > P2 (SKILL.md)
- Never skip "Read ‚Üí Understand ‚Üí Apply"

---

## üì• REQUEST CLASSIFIER (STEP 1)

**Before ANY action, classify the request:**

| Request Type     | Trigger Keywords                           | Active Tiers                   | Result                      |
| ---------------- | ------------------------------------------ | ------------------------------ | --------------------------- |
| **QUESTION**     | "what is", "how does", "explain"           | TIER 0 only                    | Text Response               |
| **SURVEY/INTEL** | "analyze", "list files", "overview"        | TIER 0 + Explorer              | Session Intel (No File)     |
| **SIMPLE CODE**  | "fix", "add", "change" (single file)       | TIER 0 + TIER 1 (lite)         | Inline Edit                 |
| **COMPLEX CODE** | "build", "create", "implement", "refactor" | TIER 0 + TIER 1 (full) + Agent | **{task-slug}.md Required** |
| **DESIGN/UI**    | "design", "UI", "page", "dashboard"        | TIER 0 + TIER 1 + Agent        | **{task-slug}.md Required** |
| **SLASH CMD**    | /create, /orchestrate, /debug              | Command-specific flow          | Variable                    |

---

## ü§ñ INTELLIGENT AGENT ROUTING (STEP 2 - AUTO)

**ALWAYS ACTIVE: Before responding to ANY request, automatically analyze and select the best agent(s).**

> üî¥ **MANDATORY:** You MUST follow the protocol defined in `@[skills/intelligent-routing]`.

### Auto-Selection Protocol

1. Analyze request ‚Üí Select Agent ‚Üí Apply rules
2. Announce: `ü§ñ Applying @[agent-name]...`
3. If user mentions `@agent` ‚Üí use it

> üî¥ Writing code without agent = PROTOCOL VIOLATION

---

## TIER 0: UNIVERSAL RULES (Always Active)

### üåê Language Handling

–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–∏—à–µ—Ç –ù–ï –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º:

1. **–í–Ω—É—Ç—Ä–µ–Ω–Ω–µ –ø–µ—Ä–µ–≤–æ–¥–∏** –¥–ª—è –ª—É—á—à–µ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è
2. **–û—Ç–≤–µ—á–∞–π –Ω–∞ —è–∑—ã–∫–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** ‚Äî –î–∞–Ω–∏–∏–ª—É –Ω–∞ —Ä—É—Å—Å–∫–æ–º!
3. **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥–µ:** –ù–ê –†–£–°–°–ö–û–ú (–ø–æ –ø—Ä–∞–≤–∏–ª–∞–º –î–∞–Ω–∏–∏–ª–∞)
4. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ/—Ñ—É–Ω–∫—Ü–∏–∏:** –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º (camelCase)

### üßπ Clean Code (Global Mandatory)

**ALL code MUST follow `@[skills/clean-code]` rules. No exceptions.**

- **Code**: Concise, direct, no over-engineering. Self-documenting.
- **Testing**: Mandatory. Pyramid (Unit > Int > E2E) + AAA Pattern.
- **Performance**: Measure first. Adhere to 2025 standards (Core Web Vitals).
- **Infra/Safety**: 5-Phase Deployment. Verify secrets security.

### üìÅ File Dependency Awareness

**Before modifying ANY file:**

1. Check `CODEBASE.md` ‚Üí File Dependencies
2. Identify dependent files
3. Update ALL affected files together

### üó∫Ô∏è System Map Read

> üî¥ **MANDATORY:** Read `ARCHITECTURE.md` at session start to understand Agents, Skills, and Scripts.

**Path Awareness:**

- Agents: `.agent/` (Project)
- Skills: `.agent/skills/` (Project)
- Runtime Scripts: `.agent/skills/<skill>/scripts/`

### üß† Read ‚Üí Understand ‚Üí Apply

Before coding: What is GOAL? What PRINCIPLES? How DIFFERS from generic?

---

## TIER 1: CODE RULES (When Writing Code)

### üì± Project Type Routing

| Project Type                           | Primary Agent         | Skills                        |
| -------------------------------------- | --------------------- | ----------------------------- |
| **MOBILE** (iOS, Android, RN, Flutter) | `mobile-developer`    | mobile-design                 |
| **WEB** (Next.js, React web)           | `frontend-specialist` | frontend-design, react-best-practices, tailwind-patterns |
| **BACKEND** (API, server, Node.js)     | `backend-specialist`  | api-patterns, nodejs-best-practices |

> üî¥ **Mobile + frontend-specialist = WRONG.** Mobile = mobile-developer ONLY.
> üî¥ **–î–∞–Ω–∏–∏–ª = WEB.** –ò—Å–ø–æ–ª—å–∑—É–π `frontend-specialist` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

### üõë Socratic Gate

**Complex requests ‚Üí STOP and ASK first:**
- New Feature ‚Üí 3+ questions
- Bug Fix ‚Üí Confirm + impact
- Vague ‚Üí Purpose, Users, Scope
- Never assume. Wait for user confirmation.

### üèÅ Final Checklist Protocol

**Trigger:** –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≥–æ–≤–æ—Ä–∏—Ç "—Ñ–∏–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏", "final checks", "–ø—Ä–æ–≤–µ—Ä—å –≤—Å—ë" –∏ –ø–æ–¥–æ–±–Ω–æ–µ.

| Task Stage       | Command                                            | Purpose                        |
| ---------------- | -------------------------------------------------- | ------------------------------ |
| **Manual Audit** | `python .agent/scripts/checklist.py .`             | Priority-based project audit   |
| **Pre-Deploy**   | `python .agent/scripts/checklist.py . --url <URL>` | Full Suite + Performance + E2E |

**Priority Execution Order:**

1. **Security** ‚Üí 2. **Lint** ‚Üí 3. **Schema** ‚Üí 4. **Tests** ‚Üí 5. **UX** ‚Üí 6. **Seo** ‚Üí 7. **Lighthouse/E2E**

**Rules:**

- **Completion:** A task is NOT finished until `checklist.py` returns success.
- **Reporting:** If it fails, fix the **Critical** blockers first (Security/Lint).

**Available Scripts (–∞–∫—Ç—É–∞–ª—å–Ω—ã–µ):**

| Script                     | Skill                 | When to Use         |
| -------------------------- | --------------------- | ------------------- |
| `lint_runner.py`           | lint-and-validate     | Every code change   |
| `ux_audit.py`              | frontend-design       | After UI change     |
| `accessibility_checker.py` | frontend-design       | After UI change     |
| `seo_checker.py`           | seo-fundamentals      | After page change   |
| `bundle_analyzer.py`       | performance-profiling | Before deploy       |
| `lighthouse_audit.py`      | performance-profiling | Before deploy       |

> üî¥ **Agents & Skills can invoke ANY script** via `python .agent/skills/<skill>/scripts/<script>.py`

### üé≠ Gemini Mode Mapping

| Mode     | Agent             | Behavior                                     |
| -------- | ----------------- | -------------------------------------------- |
| **plan** | `project-planner` | 4-phase methodology. NO CODE before Phase 4. |
| **ask**  | -                 | Focus on understanding. Ask questions.       |
| **edit** | `frontend-specialist` | Execute. Check `{task-slug}.md` first.   |

**Plan Mode (4-Phase):**

1. ANALYSIS ‚Üí Research, questions
2. PLANNING ‚Üí `{task-slug}.md`, task breakdown
3. SOLUTIONING ‚Üí Architecture, design (NO CODE!)
4. IMPLEMENTATION ‚Üí Code + tests

> üî¥ **Edit mode:** If multi-file or structural change ‚Üí Offer to create `{task-slug}.md`. For single-file fixes ‚Üí Proceed directly.

---

## TIER 2: DESIGN RULES

> Design rules in specialist agents. Read `.agent/agents/frontend-specialist.md` for web UI.

---

## üìÅ QUICK REFERENCE

### –ê–≥–µ–Ω—Ç—ã (12 —à—Ç)

- **Frontend:** `frontend-specialist` (–æ—Å–Ω–æ–≤–Ω–æ–π –¥–ª—è –î–∞–Ω–∏–∏–ª–∞)
- **Backend:** `backend-specialist`
- **Mobile:** `mobile-developer`
- **Debug:** `debugger`
- **Planning:** `project-planner`
- **Performance:** `performance-optimizer`
- **Docs:** `documentation-writer`
- **SEO:** `seo-specialist`
- **Explore:** `explorer-agent`, `code-archaeologist`
- **Product:** `product-manager`, `product-owner`

### –ö–ª—é—á–µ–≤—ã–µ —Å–∫–∏–ª–ª—ã

- **Code:** `clean-code`, `react-best-practices`, `tailwind-patterns`
- **Design:** `frontend-design`, `mobile-design`, `web-design-guidelines`
- **Planning:** `brainstorming`, `plan-writing`, `architecture`
- **Docs:** `documentation-templates`, `seo-fundamentals`

---
